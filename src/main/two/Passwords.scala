package two

object Passwords extends App {

  def countPasswords(input: String, policy: Policy = RENTAL()): Int = {
    val passwords = parseInput(input)
    policy match {
      case RENTAL() => passwords.count(pair => pair._1.isValid(pair._2))
      case TOBOGGAN() => passwords.count(pair => pair._1.isValidTobogganPassword(pair._2))
    }
  }

  private def parseInput(input: String): Seq[(PasswordRule, String)] = {
    input.split("\n")
      .map(parseLine)
      .toSeq
  }

  private def parseLine(line: String): (PasswordRule, String) = {
    val split = line.split(": ")
    val rule = split(0)
    val password = split(1)
    (parseRule(rule), password)
  }

  private def parseRule(rule: String): PasswordRule = {
    val split = rule.split(" ")
    val range = getRange(split(0))
    val char = split(1)(0)
    new PasswordRule(range, char)
  }

  private def getRange(range: String): Range = {
    val split = range.split("-")
    split(0).toInt to split(1).toInt
  }
  val input = "6-10 p: ctpppjmdpppppp\n17-19 l: llllllllllllllllllll\n14-19 z: zrzzzzzztzzzzwzzzzk\n1-8 k: qkkkkkkxkkkkkkkkk\n5-6 x: xxxxvxx\n8-14 n: nnnnnnnnnnnnkfnnnnnn\n18-19 t: ttttttttfttttttttwtt\n3-13 w: wwwqwwwwrqwtzwvw\n1-3 b: bbrbb\n8-14 q: mqwmqvfqqqsqqqqqwb\n5-7 c: lxrvdcch\n1-5 v: mvdrkmrrcjnjpv\n2-8 j: jwbdjjjcjjjjj\n4-6 w: bzcwrznhhkw\n3-4 t: lttccfqlrvh\n4-6 m: qmjmrmmmnmm\n4-5 j: jjzjj\n6-9 w: wwwwwwwbz\n6-12 c: ccccxzhpfzhccdd\n3-8 j: kjpbcjhsj\n4-8 d: dtdvlbsdh\n11-13 s: ssssssssssrsqs\n5-6 k: tdkknvkp\n7-9 q: nqqqqqbqd\n2-5 l: qlvpl\n10-11 q: qqjsqqcntrl\n2-5 l: smlsl\n8-9 n: tvkqjnwnt\n2-4 j: jjtjm\n6-8 x: xjxmxvppxgdx\n2-7 p: lvpfgfpf\n3-5 b: bbbbbbbbbb\n2-4 z: ztdz\n5-6 v: vmgmvh\n3-4 q: xqzq\n7-11 s: fsscssslnpsvsfdbssbs\n11-13 m: mmmmnmmgmmmmmmm\n2-5 j: jjkjjslmgrvjxjkj\n3-9 x: rfwqjqsfxsnwqngs\n8-10 g: dggggggggrggb\n5-12 w: vkwfvmwldztwt\n4-5 j: jfrjj\n5-6 g: ggwgvqglhnggxwlzfrg\n1-3 r: jrmr\n6-9 h: hwhrhhhhkhh\n12-13 w: wwclqxhghsfgtt\n6-7 w: wwwwwlwwwwwnwww\n2-7 z: hztlxbhz\n3-8 n: vxnmjslfxngwtjds\n4-5 h: hxhhx\n4-7 k: kkkbkkk\n2-3 b: brbs\n2-5 s: csslqwg\n1-2 z: kcdbz\n6-13 w: nnwwpjfvfmwfbvpwzrcn\n2-3 g: vgqgdcqcw\n16-19 h: hhnhhhhhhhhhhhhhhhrh\n3-10 s: ssbsbsssssssss\n1-5 x: nxxxqx\n9-15 q: qqnqqqqqqjqqwqqq\n3-7 q: qqlqqqxq\n6-7 z: zszzzgzzzzz\n3-16 s: jssssrdsvsskmdssksss\n7-16 f: hfffffffffffffffff\n8-9 r: rrrrrnrrrrrr\n4-5 h: hhhdqmjnvvdndfz\n3-4 p: wppp\n15-16 k: kmkkkkkkhkkkkkzjk\n14-17 l: llnrlrljlttlrklrh\n5-7 t: ttdgttfttvptp\n5-6 q: jdqqqqqfqrqxz\n7-9 l: llrllllvllclkll\n14-18 m: mmmwmmmmmmmmmdmmmpm\n5-11 n: nnnngnnnnncfn\n2-5 d: ddrvd\n7-9 f: xfjkhcsfff\n1-5 j: njplmjjjjj\n7-10 j: kjjdjsjnvvjj\n1-5 q: vqkqq\n11-13 b: bbbbbbbbbbvbtb\n3-6 h: hmxphh\n1-4 k: jkkb\n13-15 k: kkkkkkkkkkkkbkkkkk\n2-3 q: qnqq\n12-17 k: kkkkkkkkkkkhkkkkkkk\n7-8 p: ppphpppwppp\n3-9 h: vxhgwzhkl\n3-7 d: dsgddcwk\n9-14 j: kjllchjnmpmjtjhzncd\n8-11 t: ttztxwtlvfrwg\n5-6 b: btnqnbdsbbnbf\n12-15 l: lllllsxlxllvlflmllp\n9-12 z: vbckpqzzzzpthsskdjx\n5-6 m: smgmcmdcm\n5-6 k: kkkkkjkk\n7-8 l: lllllllrl\n7-10 n: kgnllnqnnnckp\n1-10 n: wnnknnnnwnnln\n12-17 h: hhhwhhhbfhbzfhhmhhhh\n3-10 q: qqjqqqqqqqqqqqqqq\n14-17 x: xxxxxxxxxxtmxxxxxxx\n4-5 c: mtzcb\n2-7 q: smlnsqqqwkvlldj\n2-11 h: ghxhnmhfprnmc\n11-17 f: fffbffffffqfffffbn\n12-14 s: cfsssssssssssspss\n6-10 h: hhhhvwhhhh\n8-9 v: vvzvlnvvvvw\n7-8 k: kkwkkkmk\n6-8 j: jjmjjrjjj\n1-2 d: qwddd\n10-17 x: xxxxvxxkfzxvxxlxxx\n9-11 z: szzzzzzzzzqszzhs\n4-6 g: ggsggnpfgfglglds\n7-13 t: ttttttbtttttmtttttmt\n3-4 r: rrrpr\n4-5 c: zzcvc\n9-11 k: xxpkndnhkkllx\n13-14 m: jtbxmzgvmmmxmm\n6-9 n: nnnnnnnnnn\n2-3 z: fzzkqpzskj\n15-17 t: tttttttttttttttttt\n3-5 h: hhkqwgxrp\n7-12 h: jhghcmhhmcpbxzhh\n5-8 c: cdjccrcc\n7-10 g: ggggkggggqwg\n5-8 b: fttshqjghjkbfb\n13-14 d: cdkmddcqdddddzdddd\n9-14 g: ggggggggdggggxg\n1-6 p: fkpppl\n3-4 z: zfzrz\n8-11 s: ldsjssnmsssssgsgs\n8-9 z: zzfzhxztqzzlhgl\n5-12 n: pgnvncfdnnwnlkvndt\n1-3 r: lrrr\n9-12 z: zzlzzqzzzzzzzzv\n4-8 x: klhxtqpv\n11-17 k: jkckvxckkjkkkxzrk\n2-5 m: hknqmxh\n12-18 n: nnnnnnrnddjnsnnnnrnn\n2-6 r: ltgrwrrcxrrl\n1-4 l: wllllll\n14-16 t: tttttjttcttttttv\n7-8 k: bkjdmbxf\n1-12 v: vvvvvvvvvvvd\n5-18 n: nqdlvbngztlkqnshcn\n7-9 w: fwhqptwmwlkgf\n15-18 v: vvvvvvvvvvvvvvvvvmv\n6-8 g: grggxdhgbbrtmg\n3-5 w: wtzwwv\n3-4 d: ddrddt\n2-4 c: cfccc\n1-2 p: mgps\n6-10 v: vvvvvjvvvvdv\n1-6 w: wwdwwwkm\n17-18 b: bbbbbbbbbbhbbbbbmbbb\n4-11 s: swzshhfggxqp\n4-15 b: bbbwbbbbbbbbbbbbb\n9-14 h: hhhxhhhhmhhhzhqhfq\n9-10 n: nknnnnnndn\n15-17 q: qbqqqgtqqzzlklrmq\n4-12 x: xxxxxxmxxxwwdxgxx\n1-2 l: llcllqlzlhc\n4-11 z: frrzhmvlwjm\n8-9 f: ctsfbqdft\n3-5 l: lwkmlflqlsl\n7-11 x: cfkscxpmxjxtxl\n4-7 l: bfxhlml\n1-5 k: drkrxzkkxhtkbq\n4-9 v: gvvvvqvvwvtv\n2-6 k: kkkqklk\n11-14 r: rrqdvdgrrbrrhb\n19-20 h: hhhhhhhhhhhhhhmhhhhl\n3-4 z: zrzz\n1-5 x: xxxxxxx\n18-19 k: kkkkkkkkkkkkkkkkkmk\n7-14 b: bbbbbbwbbbbbbbbbbb\n12-15 p: pbppppppwpkppphpwcpp\n4-5 c: ccczjc\n10-17 n: nnnnnknnndnnnnnnnnn\n6-8 j: jzjjjjjk\n7-10 g: gwggvggtgg\n14-18 r: rrxrrwrhhrrcrqsdrr\n10-15 p: pmjjpdvxwprlhhxbcv\n4-9 h: bxchmcfxhhbfhvfsdxn\n7-15 w: gfwczdrhwqmmmvw\n3-9 d: zhttdhdvd\n1-4 p: pppmpp\n12-13 z: zfzzzlzzzzzzzzzz\n4-5 p: ppppqwpxppp\n3-20 x: ccxwrgxhjjkfnsdnjjnj\n9-10 j: wjdjjhrzqq\n17-19 t: tttttpttttzttttwtqtr\n12-14 r: rrrrrtkrrrrlcdrr\n2-13 b: bbbbbbbbbbbbgb\n9-15 g: tgrphjgdgsglgmkm\n10-14 c: pwvrltccjccczccbt\n4-7 f: lffxfffz\n7-8 r: rdrcvrrc\n3-4 t: xtftv\n10-13 r: rnrfrrrwrftkrrr\n11-12 r: rrrrrrrrrrlrmrr\n14-18 w: wwwwwwwwwwwwwwwwwwwr\n1-8 b: bbbstbrbbbmbbb\n2-3 x: xxxl\n3-4 r: rrntr\n2-5 k: pljkb\n7-11 x: vzxxqxfhxgxqxxkxx\n11-13 c: ccccflcccjmcv\n9-11 l: nlvllllllll\n10-11 t: ttttttlttdttttxtt\n14-18 w: wwwwwwwwwwmwwgwwwz\n8-10 g: grtxrzlscxtkjjwk\n7-19 x: hkrxxxxxhxbvxxxxxkd\n10-12 c: cccxppcfccmcnccccc\n17-18 l: llllllllllllljllml\n7-16 v: vvhbvvxvvvqvvvvpvvvv\n12-18 q: qqqqqqqqqqqkqqqqqqq\n1-3 v: crvd\n11-13 b: zbbbbbbgbbhbb\n9-11 v: vvvgvhvvlvv\n3-4 r: rlrv\n9-16 m: mmmmmmlnnmmmmmrmmmk\n10-18 s: ngxsssxkxfmfswssvsfc\n6-10 g: ggzgwngggggggtqgg\n9-11 m: mmmmmmrmmmmmmm\n3-4 l: jlrl\n8-10 k: kkkfqkghbkzkkkkk\n3-7 b: jwbhbhc\n4-15 r: vklggxjgtgmzrlrw\n16-18 f: fgnfvzxffprlpxwjrf\n5-8 p: pprdhbzpp\n10-12 r: rqmrkrfrkrrrrl\n8-9 b: bbjkbbtbc\n10-14 q: hqqqqqqvqmqzfqqqqqq\n3-4 q: pwgq\n10-11 m: mmmmmmmmmwm\n9-11 d: tqrdldddddrjcddcdd\n3-7 b: pbskmbb\n12-13 b: fwbbbhbzbbfbrf\n3-7 p: lppbnxvpphd\n15-17 g: hpccghbgqtxgvggxg\n2-7 m: sfwxfjmmrt\n3-20 d: rgdbhfmhqqqfzbnjrddx\n1-3 q: nqlmqnd\n12-17 p: pppppppwfppppppppp\n2-11 c: gctbkccdhqrgchsvccc\n3-6 k: kxkkfk\n9-10 n: nnnnnnnntf\n2-5 z: zgzrzzz\n5-6 g: gggggv\n9-14 z: szzzzzzspzzczjzz\n15-18 f: ppfvfhfffxfffpffrv\n8-15 n: nnnqvnmkmndnddnb\n2-3 z: vkzngkxsszvlvjk\n5-9 q: qqqqwwqqqqqqq\n3-13 m: mmhmmmmmmmmmgmmmmm\n4-5 s: xssss\n2-3 n: vnfn\n8-9 d: drdddlsdndx\n3-4 v: vvvn\n2-8 c: ccgbxccfclcwc\n1-4 b: mbbb\n7-15 p: pnpqxnmmfkxqvppkpp\n6-7 g: pkdgdpz\n1-3 t: pxkttttjhttt\n14-19 j: jkjjfjjjjjjjjjbjjjj\n1-5 h: bwhhhlhh\n16-17 z: xnzsgxztwbwnrlzzz\n5-13 p: cspppppppzprkv\n8-9 x: xsxnxwcxjxjbxxxp\n13-14 w: wwwwwwwwwwwwrtww\n3-15 w: wwbwwwwwwwwwwwdwwwww\n6-7 d: dddbbdd\n4-9 z: zzzzzzzzqzz\n4-5 j: jjrwd\n12-15 k: kkkkkkkhkkkkkkxkk\n10-11 j: vjmjwjjxgjjhjm\n8-9 v: skspbvwvp\n1-14 n: drnwljkphztfcn\n9-12 s: ssssssjswsshss\n2-7 x: hxpcbdwjxs\n3-7 n: bgnpmrm\n4-15 d: dddfddddddddvdd\n15-16 p: pppppjpppppppppxpp\n8-14 r: rrfvrkbrgpqrplnvhxzr\n2-5 c: cccccc\n1-6 g: ptggggjl\n11-12 g: gbgpfwwggsgh\n1-2 z: wzjcmw\n1-7 m: rmmmmmtmn\n16-17 q: qqqqqqqqqcqqqqqql\n1-3 l: lllhdwldl\n7-8 k: gbhkkvkl\n1-7 j: jmjjrdt\n3-6 s: spsssxbsssss\n7-13 v: vvvvvgvlvvvvbv\n11-12 h: khhghhjffmvhk\n17-18 s: sssssssssssssssssmss\n8-16 t: ktcpqlrrtdttttxtkxn\n9-11 b: bsbbqwbbcbbbwhv\n5-10 k: kbtktnxdkzkkkrxtck\n4-8 r: vrwwrvrr\n18-19 x: lkxxqprxxxzrwkqxxgx\n6-14 x: xxxxxxxxxxxxxdxx\n10-13 p: fkpprwplppppbp\n12-16 c: vcvgccccclbccgcctccc\n2-8 c: cscclccczcgccnc\n13-15 r: rrrrrrvrcrrrrrrrrrr\n6-7 f: cfvfhbf\n4-5 h: bcqbknlhwfm\n3-18 g: chglkvkxgczqpnvgzp\n1-3 h: fhbhh\n1-2 v: vqtv\n7-14 g: jgscbrgwgbggvglgkhd\n2-8 p: plppppphp\n11-13 c: ccsccclcccrcsccc\n12-13 r: rkrmrsrrprrrrr\n1-6 m: ndmmqg\n1-3 k: jkskk\n6-9 p: htffzfvrppwln\n10-11 s: vksxsssssscdssw\n5-8 s: svfcdwss\n10-19 t: ttttwtttvttmttttttft\n6-8 h: hhhhhhhgh\n5-18 m: rcchmqmzlpptkcnhdh\n1-3 m: mmdmzxtlm\n1-7 l: lllllllbll\n16-18 t: tttttttttttttttttttt\n7-9 t: tttdjrtttkthjd\n5-19 v: xthgjgvrdwtqbrsbgkv\n2-6 k: whkgxk\n11-13 q: qqqjqqvlqqqqdq\n6-12 g: gggggfggggjncgg\n9-14 q: qhqqqjkttqqqqw\n6-9 n: nnnbnnnfgn\n4-16 d: ddjldddpvddddrdd\n13-14 r: rrrrrrrrrtrrkj\n1-3 q: qqqq\n3-6 s: hgtssssqgflb\n10-14 h: hghhhghhrhhhhshhhh\n3-5 s: pvsssgs\n3-4 g: ggzbgxgggggggqgggg\n2-4 d: dqdddddd\n1-11 b: bbbxbdbrbbbbbbbbbbn\n8-12 p: gppwpgpxpvpppbs\n3-7 p: dpzppppp\n7-20 r: zbczqrrpjpgrkrzdvmrn\n9-15 w: wpwtwwwwwwwwwwvrkwr\n14-16 p: pwpbpppppgpppmppp\n8-9 q: ngzdqqjmqvj\n4-9 t: tltltttktttttttt\n2-4 w: kzmw\n3-6 r: rrmrxqr\n4-5 z: zzzzjz\n4-8 w: wkwxbwwcwww\n8-10 k: kkbqnkkqktxzkk\n6-7 v: vvvvvnvvvvvvvvv\n8-9 s: dmmgsmxssffbmtncj\n7-9 f: ffdwfzqfffffms\n11-18 b: jbcjdgppcjrhpbcswvsd\n3-9 d: ckdcmmdhdldgsx\n2-3 d: cqxvd\n1-11 t: tftttstmftttttttttdt\n2-3 d: ddtd\n1-9 k: kkkkkkrkmkkkkg\n6-11 d: dxkdthdxgxdslgsd\n9-10 g: gggggfggkxg\n6-7 c: ccccccccccc\n15-18 z: zzzzzzzzzzzzzzxzzm\n10-11 n: xnnlnrqnvnj\n3-4 d: hdrz\n4-5 h: wrtgh\n2-4 n: nnnnn\n11-12 g: ggggggngggggg\n9-10 b: bbbbbbbbbn\n2-10 j: vjgbvjlwxwts\n3-11 t: jcttqqhtdkttcnttdfx\n9-10 w: gzwwtwwwwwwwnw\n12-14 t: ttttlljzpmwrcl\n6-12 b: pzmbrbbvbkbbdctbbqb\n1-3 m: mmmmh\n13-15 r: rrrnrrrrtrrrrrl\n9-12 l: psscllxhtllw\n7-8 b: bbbbbbbbb\n8-9 s: hmsztljsm\n11-14 x: xxxxxbxxvxdxnx\n3-6 b: cbhsbb\n14-17 v: vvvvfvvvvvvvvvzvz\n7-8 k: kkhvbwgk\n18-20 h: vqnpzsvhplfhmmqjhhkl\n4-9 n: nnnnnnnnjnnn\n13-14 t: ttgttttjttttktttvqt\n9-17 z: hwzlczpjzzbqcdgzj\n9-11 c: cccccccczcv\n2-8 s: skssssss\n6-12 g: vtfrgjgvzhngd\n10-11 v: vvvvtzjzvvbvvvvvvvv\n5-7 j: jfjjzjgjjx\n4-7 m: mhmmmnrmlmqw\n7-11 q: jcntkgqrqcr\n18-19 c: ccccccccmcxcccccccpc\n5-6 m: gmmntmmpdhqmbfvcck\n6-17 g: qgqgdwdvggfzrlbvgg\n4-8 k: fbzqkmhh\n11-12 c: vccccccccvmc\n1-5 z: zzgzqzz\n11-17 f: ffffffffffffffffff\n8-9 v: jrcbrvslv\n1-4 w: rwwww\n10-12 x: xxnzxxxxxxxfxx\n3-5 b: bzbcq\n3-6 x: rndsxxr\n11-13 n: svqnnnznnnnml\n2-5 t: ttqwx\n4-11 c: cfdfcsgnccc\n12-13 s: sksssssvsssstss\n2-4 s: sszhr\n18-19 x: xxxqxxmxxxflxxxxxxx\n4-14 b: nbbjbbbblbbbbb\n15-17 q: qqrzmqqqqlktlhqrh\n2-5 j: cjxstjtdmvz\n1-18 s: ssssskssgxssshssst\n12-16 m: hzkmmmwmmmmwmhmmmbm\n5-7 m: mmmmmvv\n1-4 r: rnln\n19-20 k: kkkkkkkkkkkkkkkkkksk\n12-18 t: ttlvttqrtbbpttztttt\n9-15 w: jvqtwzwnhrmgjvwl\n9-13 l: lrgdllkgbjvjljdmvmjt\n3-5 g: ggtgggg\n4-7 q: lrlqqkqmjqqwfqq\n6-8 q: qqvqqchr\n1-3 q: qltqr\n13-18 w: bpwpwwgwwgwpfddwfwww\n7-15 t: wttttthtttttttkttbt\n1-6 n: tnnnnnnrnnnnnnlfn\n6-7 p: kpwdppv\n3-5 b: bmbzb\n4-5 h: hqgqpbhj\n2-12 k: fsxfrnjkmwgkw\n1-14 g: ggggggxggggvgwg\n2-16 d: dddddddddddddddmdddd\n12-15 z: zzzzzzzzzzzzzzsz\n13-19 z: zzzztzzzxvzzzzzzzzzz\n10-11 d: dtlddhddsjf\n3-11 x: xxxxxxxxxxxx\n9-14 w: wwdwwwkwdwzwwwf\n14-19 v: cpzcvwkqknscrvqtmfv\n4-18 g: ggggggggggggggggggg\n1-3 w: mwqwwwwwww\n2-8 m: dmnwmjmzw\n9-11 x: xxxxxxjvxxtfx\n2-4 g: ggzb\n6-9 k: kkksskkkx\n9-10 m: kmmrmvvmmm\n2-4 s: ssspsss\n17-18 w: twjlvjbmhpxgchtnmcs\n13-14 m: mmmmmmmmmmmmlmm\n4-7 g: gggvggvgdgg\n11-12 c: zbcchcjtcmhcbhcpcc\n5-8 l: hlbhlmflk\n1-5 s: sssssss\n1-5 f: sfnffwfffffk\n7-8 j: jjjjsjjj\n2-3 x: rxlxvb\n6-14 s: sqsksnsssdsdfds\n16-17 v: vsvlpcvpkvvjvkvbj\n1-12 r: hrrrrrrrrrrdr\n2-3 m: mmqmmdm\n10-13 h: hhqhhhhhhfhhbh\n1-6 k: gkkkkkk\n6-7 z: zzzzzzz\n2-14 z: zqtzzzzdszszzzvzpnz\n9-15 t: twczgnntkttghtvtbht\n5-7 g: gfpvvkgk\n10-15 z: bzzzszzztkzzzzzzzzz\n4-5 z: zzfzzzjwxzcw\n12-15 f: fffffffffffpffff\n2-4 w: twwsft\n3-9 b: srbwfkbcw\n7-8 g: brwgmgjgdm\n5-7 v: vvvvvvvvvv\n7-14 n: mcznzntcndsqhrvmg\n2-9 k: kvbpxbrjrkqqrzvkdvsk\n4-6 x: xxxvxx\n7-10 k: lkdmtlkrpk\n1-6 b: bpxsqbbbbfk\n3-6 c: cccccxcccccc\n11-13 k: kkkkkkkkkkhkkk\n6-7 q: fxnqtpqnxllqqg\n13-19 t: dtxtthttttttttttztvt\n4-5 h: dcvkh\n2-5 v: rvstj\n12-13 c: cccccccccccht\n4-8 g: gvgggggvggggggg\n1-4 g: gggg\n13-15 x: xqxdxqtmxzfxxrq\n4-5 c: ccphw\n16-18 m: mmmmmmmmmmmmmmmmmh\n12-18 c: cccccccccccrccccccc\n4-6 h: zlkhfh\n6-8 f: fffvsfblfbff\n9-14 h: khddwkfzlpmqfhv\n2-6 m: mcmmmm\n11-13 d: dddrdddddldds\n12-13 s: sqwhcxsqnskmsmtqvgr\n2-10 b: hblmkzhlgjcb\n1-10 h: bzwxpxqtjbhbmmf\n15-16 r: rrrrrrrrrrjrrrrsr\n6-12 s: sssssnssssssss\n1-9 n: nnmnkngnw\n4-6 x: xxxxxwxxjx\n5-6 p: ppbktpjzdppj\n13-17 s: sssssdssvsmjqfstpss\n3-7 t: ctwtbkwjt\n13-14 x: vxxxxxjflxnxtn\n4-17 j: qmjjnjlqjjgpcjlwz\n5-7 p: cvscpsvbcpvbfplqhpp\n11-13 z: zzzzzzzzzzzzz\n3-4 c: bqgkch\n8-9 h: hhhhhhhld\n10-13 p: bpppppppvpppkppn\n5-6 l: lllllzlkqll\n4-13 t: xbkssqrtvjthtx\n2-3 q: vqfqr\n7-9 l: llllnlllgllllll\n4-5 h: hhhdh\n3-5 z: zzzzrptzzxz\n10-13 q: qjqkqqqzqqqqwq\n3-5 v: vvbvvvv\n7-16 j: nbbzpjmqmzfhjcjjz\n3-7 s: swvssss\n13-15 s: sskxmfsfsvpsssps\n2-5 m: mmmmwm\n5-7 b: hbbbbbsb\n1-2 d: dfwffsnttmmn\n4-17 g: gggvggfgggmgggggg\n6-7 w: fwfnwwwv\n3-5 c: ccccc\n5-6 v: vxvvvvvvvv\n6-8 p: zppppppppphh\n3-9 f: nkfqxsffb\n6-7 n: cnnjnnh\n12-14 c: cvccccccccckcc\n13-14 x: mxxxsxxxxxxxmxxx\n2-3 w: wwsr\n6-7 h: hhhhhdhh\n9-11 b: wtbqzbbbbbcbnbbbbb\n1-2 b: blbb\n1-5 m: lwlmmxjx\n2-6 k: kkkkkxk\n2-10 j: fwcjktmrxmp\n2-5 b: bbbblh\n14-16 n: nnnnnnnnnnnnnnrnnnm\n2-3 h: hzhxt\n1-2 m: mmmb\n12-13 b: bblbbmzqbbbbcbbnbb\n15-17 g: xvggggqgmjwmgrhgg\n3-4 t: tszs\n2-5 l: lnllplll\n16-17 p: pmpppppppppppppnplp\n16-17 j: jkjjrjjjjjjjjjjxtjjz\n6-11 j: jjjxjhjjjljjjjjj\n7-16 n: xndnnljsnnggnfnqnnhn\n3-5 n: wnnnbnnkj\n9-13 r: rrrrrrrrjnrrrrr\n1-6 h: jhhhhxh\n12-16 w: qlwwgttwvwtfswwk\n1-5 d: wbdgdglmdm\n4-15 m: xwvxmvncxdvjbhq\n4-6 h: hmmhhhns\n4-13 n: nnncnnnnnnnnnnn\n1-5 c: cpcvcc\n1-14 h: hjdqjwffkrkxsnhh\n1-5 d: dkdhf\n3-7 c: mcbbvvc\n7-10 p: xpppwpnppp\n17-19 r: mrnrvpjtgttxppwwrkzj\n1-7 q: qqtvqvqqfqn\n6-17 s: qcsrpwspszcssssscxp\n1-3 x: dtxlnlbqjqsnxxfxr\n13-16 g: gggggggggggwgggg\n2-8 j: xfjpwsqj\n4-9 j: jjjnjjjjpjjj\n2-7 j: gjfllhcswc\n7-20 b: wphrpjmzfpxfcbpbmbfv\n6-10 c: fclccchhrc\n7-13 k: pvjmksdkjkdtkkxck\n2-5 r: rhrrqrr\n10-11 b: bbbbbbbbbbd\n7-8 f: qfsjhfln\n5-7 m: mmmmfmmm\n5-7 d: xmdgwbdvd\n7-9 t: tcttttntttt\n5-6 j: khhjjd\n10-11 l: llllflllllj\n9-12 z: zzzzzzzmzzzzxzz\n2-8 f: qvfnffff\n8-12 v: nvvvvvvczhfvvvvvkk\n8-10 x: xxtxxxxxxb\n2-3 r: xrrw\n4-14 q: nrszcbwqwzqjfqb\n2-4 v: vqvq\n4-5 l: llllml\n15-16 k: kkkkkkkkkkkkkkkg\n6-7 g: gggggggggg\n14-15 s: ssssssssssdsscs\n6-12 m: tsmmpmwfbwmmx\n1-7 l: jqsspll\n4-17 h: cprhghxcdvbvkkjfhdp\n11-12 z: zqzzzgzzzzqz\n4-5 x: bxpxx\n2-4 n: knknnfnptzqdqbc\n1-4 p: lppwp\n10-15 m: txlmhfqmzcldstmpjx\n4-6 w: jwjfcw\n7-9 q: zqdqqqmwqqqvj\n2-3 t: pttdkz\n5-9 b: hlbbbnbmbtxcbnnhbgrb\n4-6 d: dddddtldddrdnldd\n5-6 x: xqxxxzxxx\n4-6 n: ndnwjn\n9-17 f: ffxffdpqfhfffftfmff\n6-16 p: zmxqkgdwplcpnpmpcfr\n1-15 p: lnpmpvktfpppnppmckz\n5-13 n: lnnnnncnpnhntkknzcnn\n10-14 k: kkkkkkkkkpkkkskk\n4-5 p: ppppp\n13-18 n: nnnnnnnnnnnnnnnnnn\n4-5 g: fvsvsfhgpgngl\n1-2 v: fvcvp\n9-10 b: hbkgnddkbmk\n11-14 h: xhhhhhhmhhhzhf\n3-4 w: lgzw\n4-8 l: ldnmhsblcqgsxdqjzgr\n3-7 k: lskkkpzkk\n8-9 j: jjjjjjjdjjjjjjj\n7-13 r: rrxrprccwrhrrrlj\n5-8 z: bvzrzzvzczzzdp\n1-4 l: vlnll\n4-6 k: kktkwkgdxb\n1-2 n: qnhn\n8-10 j: jjjjrsjbrljmsjj\n10-12 h: pqhdkxhlchhg\n10-11 p: phppppppnpkrpwp\n1-6 k: tkkkkkkkkk\n4-6 f: fcfffwnjkffwfffffff\n5-8 h: qhghhhgjhhh\n1-4 g: zggggggtbgg\n4-6 k: kkwkkh\n1-4 g: hkgmtd\n5-7 c: cfhcckcl\n8-11 f: fffcfxrfffbtfffwf\n4-8 s: dssbsssnsss\n8-18 t: clwqmjvttmkgxfdpxt\n4-5 s: sscsjsc\n3-4 q: zqqx\n5-7 t: ftmttnxttz\n9-11 m: mmmmmmmmrmmmmmm\n9-14 m: hmkmmzmmlmvmmqmmmm\n2-3 z: zzzz\n4-5 m: mmmqp\n7-14 n: xnkknkntrjtlgn\n7-12 x: wrzfsmxxhtkxskdxxx\n10-12 j: jjjjjjjjjjjrj\n11-13 m: mmmmmmvmthmmz\n12-15 z: pzzszlncbpzzmjzzwmjz\n5-10 v: vvvvtvvvthv\n6-8 j: jjjjjfjqfj\n3-4 v: vkdvlv\n4-5 c: cccfccccc\n10-11 l: llklllllllll\n13-15 m: mmmmmmmmmnbmmmmmm\n2-4 w: jqvswww\n4-5 w: wwqwlmww\n8-9 b: fbkbbbbbb\n15-16 v: vvvvvvvvvvvvvvdnvv\n7-8 g: ggggggzh\n8-11 x: mxxxxxxfxxx\n1-2 f: fkff\n1-3 k: kgjk\n2-5 g: jgckspgbdfm\n2-8 g: mcsbglgqtfzgfgln\n7-11 t: tttttttttttttt\n2-7 h: hhvphvhhghhrh\n15-16 b: bbbbbbbbbbbbbbbb\n10-11 b: bbhswbbvbrbbhkbbbwb\n5-6 l: lbzhsrls\n3-5 f: bcbffdvfkf\n11-16 t: bztjnbvtkttktwttttt\n8-17 d: pdpswddddddhtdfkdd\n12-13 h: hhhznhqphxhhnhhhhs\n1-6 k: shhkqkhtd\n2-3 h: vhnj\n11-14 z: zzzzzzzzzzszzzzzzzzz\n5-7 v: vbvvpvv\n1-3 g: gvgsgb\n8-12 t: tlhfxnvgxkpt\n4-7 t: krnhttl\n16-17 t: tftttttttttqtttqhttb\n17-18 z: wczzzzzvzdzzkzzshgg\n12-20 p: pppppppppppwpppppppp\n13-14 z: zzzzzlzzzzzzslzb\n3-5 b: sfblqvzqgpkwq\n8-9 r: rrrrrrrzr\n3-10 h: fhkdhpslchccxx\n8-9 r: vrrrrjrvrprr\n2-4 r: rrxsgdhj\n11-12 s: ssssssstsslr\n4-8 q: pfqlqqplqtlfrh\n3-12 l: wflllcfllvlwlqktlll\n3-6 g: pmvvggggqgjg\n19-20 w: wwwwwwwwwwwwwwwwwhlv\n7-14 t: ttttlttttttttt\n3-11 b: jbbwbhzpbbg\n15-19 t: fbjvntgrrhdtbltzjkc\n3-4 b: cqbbb\n10-11 l: lllllllllts\n1-8 z: xzzzzzzxzzzzzzzz\n11-15 b: scbsrhqwjptfxfbjz\n5-8 q: qqkqqmqld\n12-17 b: bhbbbgsdbbbhncbzb\n2-7 k: kkkkbkktzgk\n7-14 m: mdmsmmgmmmmcmmmm\n16-18 b: zqzlllfbdfrkwrwrslb\n12-15 t: mzzztkqvcmvpdmtmft\n1-4 c: ncqcdc\n10-11 k: kkkkkkzkkkjkq\n4-7 w: wwwswww\n4-13 f: lnrcvxznlcfxtnfz\n1-2 r: rprr\n2-4 b: cbtxpjbbf\n6-12 j: jjcjjjhjhzjg\n16-17 x: xxxxxxzxxxmxxxxxxx\n7-8 l: kwllgltm\n1-6 c: cccckzcccl\n1-6 k: nkkkkk\n10-11 d: dddddgddjdddddddd\n7-11 d: dddddddrddn\n4-6 s: pshmskjsszcxw\n4-7 x: zwnmxmxxxxxxbxnx\n3-6 l: gbszlgm\n4-14 h: hphhhnhqhghhhh\n4-7 n: sbnnnwzkgzxvnnrn\n5-8 h: hhhhhhhhh\n11-13 j: jnjjjjqjjjvjjj\n7-9 d: dddddcwdd\n2-10 k: kmkkkkkkkd\n5-7 j: jpdcczgzjjjnhtjdhzc\n10-16 f: fffffffbfbftwjfj\n2-3 c: nncc\n1-7 z: dbzmkzzhrjrjgjkl\n4-5 v: qzwvr\n1-3 w: rwwnr\n1-4 f: hffmff\n5-6 w: wwwwtwww\n4-12 r: vtfbqqfrnmqk\n7-10 q: qqwqwqqqrc\n1-2 d: dndd\n5-10 c: rmrpcwcckcvf\n1-2 d: vdfnl\n2-11 j: jjjjjjjjjjvq\n8-11 k: kkbkxkjtkxzksk\n2-7 m: bcmxqdmcw\n2-4 d: rdtdddt\n11-12 p: zpppppzpxpvpzpp\n3-8 f: fgvbvrbflh\n10-11 b: bbfbbbbbbqdbbb\n3-4 d: lkdn\n6-7 b: bbbbsbbbr\n3-5 b: bbbbbb\n8-9 b: kbbbbbbbh\n1-6 q: zgbbkjwdwprjlzcqtxl\n5-12 p: ppppcpppppplp\n4-5 s: zfscs\n3-6 z: fszzcqrlwqtblhgzg\n1-3 l: nswlxp\n6-10 r: lkrrrxrnqzr\n10-11 l: lllllllllll\n5-6 x: xgrxpxxx\n2-3 n: lmwn\n5-6 d: bddnddsd\n1-8 x: xxxxxxxrx\n15-19 b: bbbbqbbbbbbbkbvbbbbb\n12-14 h: mhhhqphghhhfnhbhczr\n2-4 f: ffjfkk\n1-2 m: mpsx\n2-5 g: gpplg\n1-2 v: pvvv\n4-5 z: zzzbz\n8-13 q: qqkkgnqttwgqknqdj\n3-15 c: cmlfccwcbxcztzcx\n7-9 q: hcqqqqqqqqssm\n1-10 p: lppnpdpdll\n6-7 f: bxjpxffjbfzqhrccts\n4-5 j: cqljj\n4-5 s: srsjjss\n10-16 d: dcdddddbddhdzdcldddt\n2-9 c: vcqhwjctthq\n2-4 r: jvdbj\n3-4 h: shxnz\n1-2 c: ccccgcc\n3-5 l: flhlllklwllgf\n4-5 t: xqfctf\n1-9 m: mmmmmmmmmmmmmmm\n1-2 b: brbx\n10-16 x: jjlgdbxhxxhvvvqb\n2-3 s: spssss\n10-11 x: xxvxxxxxxxx\n2-15 x: qwbhmmbxwkflmqm\n16-17 s: sssssssssssssssts\n12-13 c: nxhfcctzkxgkcfcl\n15-16 w: wwwwwwwwwwwdwwww\n7-8 x: fmxlxtsmx\n12-15 w: wwcwwwwwwwswwwnwmwk\n10-11 m: xwkpzpvxgmm\n1-5 l: plvllrlvlcllnlqll\n2-3 m: prmrsns\n2-4 w: rwwh\n15-16 g: gggggnggggggfggng\n9-11 s: tlghtdpfmsc\n11-12 r: jttrrtcwkkdx\n3-10 m: bqqqmmfrlm\n1-8 v: nvdcvvjv\n17-19 l: lllllllllllllllllvl\n10-16 t: ttjtttkntttxtttktt\n8-14 h: hhhhhdhrhhhhhhhr\n2-8 f: ftfffffn\n5-13 q: qxqqqqsmqdqqd\n9-11 z: zzzzzjzbkzzz\n10-11 r: rrrrrrrrrhlr\n2-5 p: lpjqpkfhtdxm\n12-13 j: jjjjjjjjjjjkbjj\n6-12 l: zrghbwlcdxllq\n11-13 w: wwwwwwwwwwwwtcl\n2-6 v: jvvrvh\n5-9 p: pvmpzpmdpp\n2-9 k: kbkjkzkkxkfdkbf\n8-17 z: jmxcvbjjgmjzzwzbzzz\n6-8 k: kkklkkkjk\n6-11 n: qdnknnnnmncnt\n6-7 n: nnnnnjq\n3-4 v: gncvr\n8-9 q: wqkslqtqz\n1-5 k: ljdjkk\n6-7 w: kpzhwww\n5-7 r: rrrrrrr\n12-14 v: vvvvvvvvvvvvfm\n2-4 h: htfh\n4-14 t: qqgtbtdbftmmxtm\n2-5 p: pjwmp\n4-5 t: jjptqvpdm\n17-19 w: wwwwwwwwwwwwwwwwwwx\n10-11 g: mqdxmvggggg\n13-18 w: lwqfhxvvvspcwqmpmwb\n2-4 p: qxdr\n6-8 b: bxrrxkkxv\n1-4 h: mbmghhh\n5-9 f: ptmffcjqcnfhd\n4-10 d: bsbttdvdpl\n1-3 n: znxn\n1-5 q: qqtgq\n1-10 q: nqqqqqqqqbq\n3-4 r: rrtrm\n12-13 d: fdfgtrdbdbjdj\n8-9 c: ccccccczs\n3-5 d: nqgjdv\n10-11 q: qqqqqqqqqpq\n9-10 m: mkcmjtmspf\n5-7 q: jvpqjgq\n7-8 g: gggggggm\n5-7 r: brrtlpr\n11-13 c: wlcqccbcchvfc\n9-14 j: jmjgjjjjvrjrjjjjj\n3-8 n: nnmknncxnpxtbnn\n9-11 d: zdpddddvpbd\n3-4 t: qktttlnb\n4-7 f: fffmffjfgf\n2-5 l: llxlwkl\n2-6 b: qblblb\n2-5 d: vddcd\n5-6 w: wwwwwswwwwww\n3-6 s: hsjszsfsknsscv\n7-9 r: rrrrcrxrrr\n8-9 x: xntxnxxxwx\n10-13 k: ltkszmdqkkklqwbktrbq\n6-7 w: mdwxbwdg\n2-7 n: pcdhphd\n8-14 k: kchdwzkfrwskmksqckd\n1-6 q: qqqqqzqq\n7-10 z: zzzzzzdzzz\n1-4 c: ccgrfccc\n10-13 x: zxxqxxtxbnxxxxxx\n7-10 b: dbpbdlmwqpjwmtplxzw\n10-13 v: vvtmvvpvvxvksvbvvvv\n7-12 w: wwzcnwlswwrww\n16-17 v: lvtlzvvnhtvvhvkkl\n13-15 t: tttttttttwtttttt\n3-4 h: dlvx\n8-10 q: fmwqrqqkjq\n11-20 x: xhwxxxjxxwtxtvxxnxxx\n8-9 h: thqzhpdvkr\n18-20 v: crrlvhvvdmvgvrfvvxvb\n1-7 b: bbbbbbbbbbb\n4-5 m: tjmnmmsmp\n3-6 j: jsvxbj\n4-10 v: mwlvhrttwvn\n2-6 k: tgwhvrkt\n4-9 x: hpsnbxzxcns\n1-6 b: bbbbbbbbbbbbd\n3-16 z: fzxstkqfcsmzkcjzf\n5-9 g: hgzrgkvgh\n1-2 l: lnlb\n2-4 p: rrlpp\n1-6 k: ckkkkkkkkkkkkk\n11-16 j: jkjjjjjjwkdbjjjjjj\n2-5 k: ktqksk\n2-4 n: nhpbg\n5-10 g: qlqfgmrdjxdfhvvbgxrc\n9-18 x: xxxxxxxxgxxxxxxxxxpx\n11-18 m: hmlcpjmmtwnmjwsjsm\n4-7 b: gbrbgqbtx\n3-11 w: wwdwwwwwwwnw\n2-3 w: qhkqw\n1-3 z: zrvzzzzz\n4-15 s: lssbsssssssssscsssss\n1-5 f: wffff\n1-4 s: sssssssssss\n15-17 l: lllcllnlllllllxll\n4-5 h: hhthg\n2-4 f: fffff\n10-12 c: cccrwcccccckcc\n7-8 f: fffpffmgf\n1-11 w: wwwwwwwhwwt\n1-9 q: mhqhngqqvvqq\n17-19 v: vlthwqfvlfgjvbqdvpkk\n4-19 v: vvvzvvvvvvvvvqvvvvvz\n10-11 k: kkxkkkzkkkrkkk\n4-12 m: wjmmtmqmmmmmmmmmm\n3-14 g: ggggggggggggggg\n6-7 w: wwwwwwww\n4-5 c: clqtstsbfflngcfhgc\n1-11 l: zljlllllxljll\n3-7 x: xrtxxft\n6-8 k: lkkmpkvkkk\n1-9 f: glfffffffffffffffff\n3-9 r: rrrrrrrrnr\n9-10 r: rrrkrtgrrrrrrr\n3-9 h: rvvxhnhmht\n10-12 q: qpwqqjqqvqrnqqv\n5-8 d: ddxddddlddd\n1-7 p: lkppppnppkppp\n1-4 d: mvsdd\n6-7 m: zsmmmmhmmm\n4-7 w: bwlzdglxrsgt\n2-7 g: lgggtzdbvggqgjcggrq\n3-4 r: rrtrj\n7-12 l: lllllllllmlqlll\n8-9 q: kvtnbfqqzl\n8-9 h: qfkhhhrvh\n3-4 c: cccjcccccccccc\n4-5 v: dpmvwdpk\n17-20 w: wwwwwwwwwwwwwwwwwwww\n3-16 v: vvvcsfkvmchbbnvxvhzd\n5-14 z: bvhrtqkhnwljrzmbvz\n10-11 j: jjjjjjjjjpzj\n12-14 w: wqwgwwwwwwbdws\n1-3 s: dbntscqz\n15-18 t: tttttgttttdtttmttt\n1-3 l: llldhlnxrr\n5-6 c: qcccqhccczccc\n10-14 b: bbbvblvbpndqbbbqnbbb\n1-2 c: pccchcc\n2-7 x: fxsxbmksgjpwspp\n4-5 x: wbbxbndlbbls\n6-8 f: tfnwfwfsmf\n3-9 q: qqqqvsqqkqq\n6-17 h: chwghhrhlhhnbsncwc\n3-6 w: wvwwkw\n14-15 q: qqqqqqzqqqqqqfd\n10-16 q: qzjqrvgwdqjqklqk\n2-3 h: lxghjh\n15-17 f: fvdgfffffffxzflmf\n13-15 f: ffffffffffffbftffffr\n11-12 g: jgqgbglrgbgfgw\n8-9 d: hddddddpd\n13-14 p: pppppppppppptx\n4-5 w: rwpwwtwwc\n8-9 r: rrgrrrrrrrrr\n7-8 h: hhhhhhhbqf\n12-13 l: llllllllllllll\n3-4 n: nnntnn\n3-8 c: ccccctcccc\n6-7 x: xxgxxnkxfxxxxxfxxxxn\n6-7 q: qqzqtzcqs\n8-12 t: tttttttttttptt\n2-4 q: qxql\n3-4 v: vvxxv\n8-11 t: tttttttcttm"
  println(countPasswords(input))
  println(countPasswords(input, TOBOGGAN()))
}

class PasswordRule(val range: Range, val char: Char) {

  def isValid(password: String): Boolean = {
    range.contains(password.count(_ == char))
  }

  def isValidTobogganPassword(password: String): Boolean = {
    val indexOne = range.start - 1
    val indexTwo = range.`end` - 1
    password(indexOne) == char ^ password(indexTwo) == char
  }
}

sealed class Policy
case class RENTAL() extends Policy
case class TOBOGGAN() extends Policy
